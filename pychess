#!/usr/bin/python
# -*- coding: UTF-8 -*-

import pygtk
pygtk.require("2.0")

try:
    from pychess.Utils.const import prefix
except ImportError:
    print "ERROR: Could not import modules."
    print "Please try to run pychess as stated in the INSTALL file"
    import sys
    sys.exit(1)

import os
from pychess.Utils.const import PREFIX
# This is an ugly hack needed becayse of a pygtk bug:
# http://bugzilla.gnome.org/show_bug.cgi?id=393483
os.environ["XDG_DATA_DIRS"] = PREFIX+":/usr/share/"
    
import gettext, gtk.glade
if "/bin/" in __file__:
    gettext.install("pychess", unicode=1)
    gtk.glade.bindtextdomain("pychess")
else:
    gettext.install("pychess", localedir=prefix("lang"), unicode=1)
    gtk.glade.bindtextdomain("pychess", prefix("lang"))
gtk.glade.textdomain("pychess")

import pychess.Main
pychess.Main.run()
